## リモコン魚

さて、今度は魚を自力で泳がせます。 これを行うには、新しい種類のブロックが必要になります：「制御」カテゴリーのブロック。

--- task ---

魚のスプライトを選択します。

次のように、**イベント**の`緑の旗が押されたとき`{:class="block3events"}ブロック、**制御**の`ずっと`{:class="block3events"}ブロック、および**動き**の`10歩動かす`{:class="block3events"}ブロックをスプライトパネルにドラッグします。

```blocks3
    when green flag clicked
    forever
        move (10) steps
    end
```

--- /task ---

--- collapse ---
---
title: 新しいブロックは何をしますか？
---

制御ブロックは、プログラムに特定の回数、または特定の条件下で物事をさせます。

ここで、魚は「ずっと」のブロック内にあるものは何でも、ループ(繰り返し)で何度も繰り返し実行します。 したがって、「ずっと」ブロック内で最後の処理（ブロック）が完了すると、最初からやり直して、すべてを繰り返します。

--- /collapse ---

--- task ---

緑の旗をクリックして、何が起こるか見てみましょう！

--- /task ---

でも、魚はステージの横に衝突してしまい、また動きが速すぎてサメが捕まえるのはムリでした。

まず、魚を遅くする必要があります。 それは実にとても簡単です。10歩動いた後、少し待つだけで十分です。 ここで役立つ制御ブロックがあります。

```blocks3
    wait (1) secs
```

--- task ---

`○秒待つ`{:class="block3control"}ブロックを`ずっと`{:class="block3control"}ブロック内のコードに追加し、次のように数値を`0.5`に変更します。

```blocks3
    when green flag clicked
    forever
        move (10) steps
+      wait (0.5) secs
    end
```

--- /task ---

--- collapse ---
---
title: 調整する
---

待機ブロックに設定した数値は、魚を何秒間待機させたいかを示しています。 0.5は0.5秒です。

さまざまな値をテストして、ゲームに最適な値を確認できます。 また、移動ブロック内の歩数も変更できることを忘れないでください！

--- /collapse ---

魚が移動するようになりました、しかしまだ魚がステージの端で反転するようにする必要があります。 繰り返しになりますが、これには「動き」ブロックがあります！

--- task ---

`もし端に着いたら、跳ね返る`{:class="block3motion"}ブロックを見つけて、`○秒待つ`{:class="block3control"}ブロックの後に追加します。

--- /task ---

--- collapse ---
---
title: 新しいブロックは何をしますか？
---

`もし端に着いたら、跳ね返る`{:class="block3motion"}ブロックは、スプライトがステージの端に触れているかどうかを確認し、触れている場合は、必要に応じて左、右、上、または下に回転します。

--- /collapse ---

もちろん、これは逆さまの魚につながるため、再び回転方法の設定が必要になります。

--- task ---

スプライトのスクリプトの先頭にある魚の回転方法を`左右`{:class="block3motion"}に設定するようにコードを更新します。

```blocks3
    when green flag clicked
+    set rotation style [left-right v]
    forever
        move (10) steps
        wait (0.5) secs
        if on edge, bounce
    end
```

--- /task ---

魚は今では前後に動きますが、直線でしかありません。プレイヤーがサメを捕まえるのは少し簡単すぎます！ 魚の動きを予測しにくくする必要があります。

前のステップでスプライトを回転させる方法をすでに知っているので、そこから始めます。

--- task ---

魚の泳ぎ方に「○度回す」を追加し、緑色の旗をクリックします。

```blocks3
    when green flag clicked
    set rotation style [left-right v]
    forever
        move (10) steps
+        turn cw (10) degrees
        wait (0.5) secs
        if on edge, bounce
    end
```

--- /task ---

それは良いですが、まだパターンが多すぎます。 よりランダムにする必要があります。 幸いなことに、Scratchはあなたのためにランダムにできます！ 必要なのは、**演算子**ブロックと呼ばれる新しい種類のブロックです。

--- collapse ---
---
title: 演算子とは何ですか？
---

演算子は、1つ以上の値（数値、テキスト、True / False値など）を受け取り、単一の値を返します。 ブロックの形状によって返される値の種類を知ることができます。丸い端は数字またはテキストを与え、尖った端は True / Falseを与えます 。

```blocks3
    (() + ())

    (join [hello ] [world])

    <[] = []>
```

--- /collapse ---

--- task ---

`○から○までの乱数`{:class="block3operators"}**えんざん**ブロックを見つけて、それをクリックし 度数を設定するフィールドまでドラッグするように、`○度回す`{:class="block3motion"}**動き**ブロックに差し込みます。

```blocks3
    when green flag clicked
    set rotation style [left-right v]
    forever 
        move (10) steps
+        turn cw (pick random (1) to (10)) degrees
        wait (0.5) secs
        if on edge, bounce
    end
```

--- /task ---

注：乱数の選択する最小数と最大数は変更できますが、このゲームではデフォルト値（1と10）で十分なので、そのままにしておくことができます。

--- task ---

緑色の旗をクリックしてコードを実行しましょう！

--- /task ---

--- collapse ---
---
title: では、「ずっと」ブロックは今何をしていますか？
---

「ずっと」ブロックは、魚のスプライトに4つのことを順番に実行させるようになりました。

1. 前進する
2. 少し回します
3. ちょっと待つ
4. ステージの端にあるかどうかを確認します

スプライトがチェックを完了すると、スクラッチプログラムを実行する限り、ループの先頭から再び開始し、移動、回転、待機、チェックを行います。

--- /collapse ---

素敵! 次はその魚を捕まえましょう！